# Bivector Classification, Number Systems & Hybrid CGA

This reference covers the unified theory connecting:
1. **Bivector Classification** — how B² determines transformation type
2. **Three Number Systems** — Complex, Dual, Hyperbolic as Clifford algebras
3. **Hybrid CGA** — when to use IPNS vs OPNS representations

## 1. The Master Classification Principle

**Every transformation in GA is generated by exponentiating a bivector:**

```
V = exp(θB/2)
```

The **square of the bivector** B² determines everything:

| B² | Type | exp(θB/2) | Transformation | Geometry | Number System |
|----|------|-----------|----------------|----------|---------------|
| **−1** | Elliptic | cos(θ/2) + B sin(θ/2) | Rotation | Compact, periodic | Complex (i²=−1) |
| **0** | Parabolic | 1 + (θ/2)B | Translation | Nilpotent, shear | Dual (ε²=0) |
| **+1** | Hyperbolic | cosh(θ/2) + B sinh(θ/2) | Boost/Dilation | Non-compact | Split (j²=+1) |

---

## 2. Hybrid CGA: The IPNS/OPNS Resolution

### The Problem

Traditional CGA has two representations:
- **IPNS** (Inner Product Null Space): Sphere-based, bivectors are circles
- **OPNS** (Outer Product Null Space): Point-based, bivectors can be point pairs

Neither is complete alone!

### The Solution: Switch Based on B²

| Bivector B² | Use | Object | Transformation |
|-------------|-----|--------|----------------|
| B² < 0 | IPNS | Circle/Line | Rotation (elliptic) |
| B² = 0 | Both | Null (∞ or 0-radius) | Translation (parabolic) |
| B² > 0 | OPNS | **Point Pair** | Boost (hyperbolic) |

### The Counterexample That Proves It

Consider **e₁₋** in CGA (where e₁² = +1, e₋² = −1):

```
e₁₋² = e₁² × e₋² = (+1)(−1) = +1  (positive!)
```

IPNS says bivectors should be circles. But e₁₋ is a **point pair**, and exp(e₁₋) generates a **booster** — pushing points along hyperbolic trajectories between two points.

This is not an edge case: it's the **hyperbolic translation** in the Poincaré disk model!

---

## 3. CGA ≅ Hyperbolic PGA (One Dimension Up)

The deep geometric reason for Hybrid CGA:

> **n-dimensional CGA Cl(n+1,1,0) is isomorphic to (n+1)-dimensional Hyperbolic PGA**

| CGA | = | Hyperbolic PGA |
|-----|---|----------------|
| 2D CGA Cl(3,1,0) | = | 3D Hyperbolic PGA |
| 3D CGA Cl(4,1,0) | = | 4D Hyperbolic PGA |

The **horosphere** (null cone in CGA) corresponds to the **Klein ball boundary** in hyperbolic geometry.

### The "Eye at North Pole" Construction

1. Take the Klein ball in the intermediate hyperbolic (n+1)D space
2. Place your "eye" at the north pole (where n∞ is tangent)
3. Stereographically project → CGA modelling space

This explains:
- **PGA is a subalgebra**: Objects passing through the eye point
- **"Imaginary circles"**: Real point pairs with no circular projection
- **e₋ transformation**: Hyperplane in 4D, appears as "point-pair field" in 3D

---

## 4. The Three 2D Number Systems

All arise from `z = a + bι` with different signatures:

### Complex Numbers — Cl(0,1,0)

```
i² = −1
z = a + bi
|z|² = a² + b²  (circle)
exp(iθ) = cos θ + i sin θ  (rotation)
```

**GA embedding:** Even subalgebra of Cl(2,0)
```
i ↔ e₁e₂,  (e₁e₂)² = −1
```

**Geometry:** Rotation (elliptic)
- Unit curve: Circle
- Compact: Yes (periodic, θ ≡ θ + 2π)
- Fixed point: Origin

### Dual Numbers — Cl(0,0,1)

```
ε² = 0
z = a + bε
|z|² = a²  (parallel lines)
exp(εθ) = 1 + εθ  (translation/shear)
```

**GA embedding:** Degenerate algebra
```
ε ↔ e₀ where e₀² = 0
```

**Geometry:** Translation/Shear (parabolic)
- Unit curve: Parallel vertical lines
- Compact: No
- Fixed point: Point at infinity

**Application:** Automatic differentiation!
```
f(a + bε) = f(a) + b·f'(a)·ε
```

### Hyperbolic Numbers — Cl(1,0,0)

```
j² = +1
z = a + bj
|z|² = a² − b²  (hyperbola)
exp(jθ) = cosh θ + j sinh θ  (squeeze/boost)
```

**GA embedding:** Single positive-signature basis
```
j ↔ e₁ where e₁² = +1
```

**Geometry:** Boost/Squeeze (hyperbolic)
- Unit curve: Hyperbola
- Compact: No
- Fixed points: Origin AND infinity (two!)
- Null cone: Lines a = ±b (asymptotes)

**Application:** Spacetime! Minkowski metric ds² = dt² − dx²

---

## 5. CGA Bivector Examples

### In Cl(4,1,0) (3D CGA)

| Bivector | Components | B² | Type | Transformation |
|----------|------------|-----|------|----------------|
| e_i ∧ e_j | Space-Space | −1 | Elliptic | Rotation |
| a ∧ n∞ | Euclidean ∧ Infinity | 0 | Parabolic | Translation |
| n₀ ∧ a | Origin ∧ Euclidean | 0 | Parabolic | Transversion |
| n₀ ∧ n∞ | Origin ∧ Infinity | +1 | Hyperbolic | **Dilation** |
| P₁ ∧ P₂ | Point ∧ Point | +1 | Hyperbolic | **Booster** |

### Circle Pair Classification

Given two circles C₁ and C₂, their ratio R = C₁C₂⁻¹ determines:

| Configuration | Discriminant | Type | Transformation |
|---------------|--------------|------|----------------|
| **Intersecting** | Δ < 0 | Elliptic | Rotation around common points |
| **Tangent** | Δ = 0 | Parabolic | Parabolic slide |
| **Nested/Disjoint** | Δ > 0 | Hyperbolic | Logarithmic spiral |

**Discriminant formula:** Δ = (C₁·C₂)² − C₁²C₂²

---

## 6. Physical Interpretation

### Spacetime Algebra Cl(1,3) or Cl(3,1)

| Bivector Type | Spans | B² | Transformation |
|---------------|-------|-----|----------------|
| e_x ∧ e_y | Space-Space | −1 | Spatial rotation |
| e_t ∧ e_x | Time-Space | +1 | Lorentz boost |
| null ∧ null | Light-Light | 0 | Null rotation |

**Why time is different from space:** Their mixture is hyperbolic, not elliptic!

### Causal Structure

| Region | Interval ds² | Type |
|--------|--------------|------|
| Timelike | ds² > 0 | Hyperbolic |
| Lightlike (null) | ds² = 0 | Parabolic |
| Spacelike | ds² < 0 | Elliptic |

The light cone is the **parabolic boundary** between elliptic (space) and hyperbolic (time).

---

## 7. The Unifying Principle

All Clifford algebras Cl(p,q,r) decompose based on basis vector squares:

| Signature | e² | Type | Behavior |
|-----------|-----|------|----------|
| Positive (p) | +1 | Hyperbolic | Split, non-compact |
| Negative (q) | −1 | Elliptic | Rotation, compact |
| Zero (r) | 0 | Parabolic | Nilpotent, translation |

**The signature determines the geometry.**

---

## 8. Quick Reference Code

### Classifying Bivector Type

```javascript
function classifyBivector(Bsquared) {
    const eps = 1e-10;
    if (Bsquared < -eps) return 'elliptic';    // B² ≈ -1, rotation
    if (Bsquared > eps)  return 'hyperbolic';  // B² ≈ +1, boost
    return 'parabolic';                         // B² ≈ 0, translation
}
```

### Exponentiating by Type

```javascript
function expBivector(B, theta, type) {
    const half = theta / 2;
    switch(type) {
        case 'elliptic':
            return scalar(Math.cos(half)).add(B.scale(Math.sin(half)));
        case 'parabolic':
            return scalar(1).add(B.scale(half));
        case 'hyperbolic':
            return scalar(Math.cosh(half)).add(B.scale(Math.sinh(half)));
    }
}
```

### Circle/Sphere Pair Analysis

```javascript
function classifyPair(X1, X2) {
    const dot = X1.dot(X2);
    const disc = dot * dot - X1.normSq() * X2.normSq();
    
    if (disc < -1e-10) return 'elliptic';     // Intersecting
    if (disc > 1e-10)  return 'hyperbolic';   // Nested or disjoint
    return 'parabolic';                        // Tangent
}
```

### Number System Operations

```javascript
// Complex multiplication
function complexMul(a1, b1, a2, b2) {
    return { a: a1*a2 - b1*b2, b: a1*b2 + b1*a2 };  // Note: MINUS
}

// Dual multiplication  
function dualMul(a1, b1, a2, b2) {
    return { a: a1*a2, b: a1*b2 + b1*a2 };  // ε² = 0
}

// Hyperbolic multiplication
function hyperMul(a1, b1, a2, b2) {
    return { a: a1*a2 + b1*b2, b: a1*b2 + b1*a2 };  // Note: PLUS
}
```

---

## 9. Application to Curved Meshes

The discriminant classifies **local surface geometry**:

| Fitted Circle Config | Discriminant | Surface Type | Gaussian K |
|---------------------|--------------|--------------|------------|
| Intersecting | Δ < 0 | Elliptic (convex/concave) | K > 0 |
| Tangent | Δ = 0 | Parabolic (developable) | K = 0 |
| Non-intersecting | Δ > 0 | Hyperbolic (saddle) | K < 0 |

This provides a **noise-robust** curvature estimator using only wedge products — no derivatives needed!

---

## See Also

- [`cga_versors_reference.md`](cga_versors_reference.md) — Complete versor table for all grades
- [`formulas.md`](formulas.md) — Core GA identities and products
- [`algebras.md`](algebras.md) — Signature conventions
- [`ddg_reference.md`](ddg_reference.md) — Discrete curvature applications
